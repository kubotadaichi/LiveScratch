# Live Scratch - TODO

## フェーズ1 残課題

- [ ] コード編集パネルで編集した内容を音声に反映する（`new Function()` でカスタムコードを実行し TrackManager に差し込む）
- [ ] 「Reset to Generated」ボタン（カスタムコードを破棄してブロックから再生成）
- [ ] ブロックUI変更時のカスタムコード上書き警告ダイアログ

## フェーズ2（p5.js ビジュアル）

- [x] p5.js キャンバスの統合
- [x] オーディオリアクティブビジュアル（FFT / Waveform 連携）
- [x] ビジュアル用ブロックカテゴリの追加
- [ ] ユーザー認証
- [ ] プロジェクト保存・共有

### Phase 2 残課題
- [ ] p5.js の dynamic import（バンドルサイズ軽減）
- [ ] カスタムシェーダー / GLSL ブロック
- [ ] ビジュアルプリセット（テンプレート選択）

## フェーズ3

- [ ] カスタムブロックの作成・共有
- [ ] モバイル対応

## 既知の改善点

- [ ] バンドルサイズが大きい（~2.9MB）— Blockly/Tone.js/p5.js の dynamic import による分割を検討
- [ ] ブロックのトラックIDが手入力 — 自動採番 or ユニークID生成
- [ ] 小節番号のリアルタイム表示（Transport.position の購読）
