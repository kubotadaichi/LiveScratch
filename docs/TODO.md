# Live Scratch - TODO

## フェーズ1 残課題

- [x] コード編集パネルで編集した内容を音声に反映する（`new Function()` でカスタムコードを実行し TrackManager に差し込む）
- [x] 「Reset to Generated」ボタン（カスタムコードを破棄してブロックから再生成）
- [x] ブロックUI変更時のカスタムコード上書き警告ダイアログ

## フェーズ2（p5.js ビジュアル）

- [x] p5.js キャンバスの統合
- [x] オーディオリアクティブビジュアル（FFT / Waveform 連携）
- [x] ビジュアル用ブロックカテゴリの追加
- [x] ユーザー認証
- [x] プロジェクト保存・共有

### Phase 2 残課題
- [x] p5.js の dynamic import（バンドルサイズ軽減）
- [x] カスタムシェーダー / GLSL ブロック
- [x] ビジュアルプリセット（テンプレート選択）

## フェーズ3

- [ ] カスタムブロックの作成・共有
- [ ] モバイル対応

## 既知のバグ

- [x] 「Reset to Generated」でブロック生成コードに戻した際、変更後の音が鳴り続け元の音に戻らない（AudioEngine/TrackManager のリセット処理が不完全）

## 既知の改善点

- [x] バンドルサイズが大きい（~2.9MB）— Blockly/Tone.js/p5.js の manualChunks による分割
- [x] ブロックのトラックIDが手入力 — ブロック ID ベースの自動採番
- [x] 小節番号のリアルタイム表示（Transport.position の購読）
- [x] プロジェクト名のインライン編集
